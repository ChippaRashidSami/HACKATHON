# Data Model: Gazebo Unity Digital Twin

## Overview
This document outlines the conceptual data models and entities relevant to the Digital Twin module, focusing on the simulation data structures and ROS 2 message types used in the examples.

## Core Entities

### Gazebo Simulation Environment
- **World File**: XML-based configuration for simulation environment
  - Fields: physics engine, gravity, visual elements, models
  - Relationships: Contains Models, Lights, Heights
- **Model**: Robot or object in the simulation
  - Fields: name, pose, links, joints, plugins
  - Relationships: Composed of Links and Joints
- **Link**: Physical component of a model
  - Fields: geometry, mass, inertia, visual, collision
  - Relationships: Connected to Joints
- **Joint**: Connection between links
  - Fields: type, limits, parent, child
  - Relationships: Connects Links

### Sensor Simulation
- **LiDAR Sensor**
  - Fields: scan_range, resolution, update_rate, topic_name
  - ROS Messages: sensor_msgs/LaserScan
- **Depth Camera**
  - Fields: resolution, fov, clipping_planes, topic_name
  - ROS Messages: sensor_msgs/Image, sensor_msgs/CameraInfo
- **IMU Sensor**
  - Fields: noise_parameters, frame_id, topic_name
  - ROS Messages: sensor_msgs/Imu

### ROS 2 Communication
- **Topic**: Communication channel for message exchange
  - Fields: name, message_type, qos_profile
- **Message**: Data structure for ROS 2 communication
  - Examples: sensor_msgs/, geometry_msgs/, std_msgs/

### Unity Rendering Components
- **Scene**: Visual environment in Unity
  - Fields: lighting, objects, materials
- **Robot Model**: 3D representation of robot
  - Fields: mesh, materials, joints (for animation)

## State Transitions

### Simulation Lifecycle
1. **Initialization**: World file loaded, physics engine initialized
2. **Configuration**: Models and sensors placed in environment
3. **Execution**: Simulation running, data being generated
4. **Termination**: Simulation stopped, data collection complete

### Sensor Data Flow
1. **Generation**: Sensor data generated by Gazebo physics engine
2. **Transmission**: Data sent via ROS 2 topics
3. **Processing**: Data received and processed by ROS 2 nodes
4. **Visualization**: Data displayed in RViz or Unity environment

## Validation Rules

- All URDF models must validate with check_urdf tool
- World files must load without errors in Gazebo
- Sensor parameters must be within physical limits
- ROS 2 topics must follow naming conventions
- All coordinate frames must be properly defined and connected

## Relationships and Dependencies

- Gazebo simulation environment provides sensor data consumed by ROS 2 nodes
- ROS 2 nodes process sensor data and may send control commands back to simulation
- Unity environment renders robot state based on ROS 2 messages
- RViz provides alternative visualization of sensor data and robot state